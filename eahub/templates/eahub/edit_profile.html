{% extends 'base_bs5.html' %}

{% load crispy_forms_field crispy_forms_tags static %}

{% block navbar %}
  {% include 'components/navbar.html' %}
{% endblock navbar %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
  <div class="container">
    <h1>Edit</h1>
    <form method="POST">

      <div class="row row-cols-2">
        <div
          class="col"
          algolia-api-key="{{ settings.ALGOLIA.API_KEY_READ_ONLY }}"
          algolia-application-id="{{ settings.ALGOLIA.APPLICATION_ID }}"
          algolia-index="{{ settings.ALGOLIA.INDEX_NAME_TAGS }}"
          type="expertise"
          type-name="Expertise"
          type-field-name="expertise_areas_new"
          profile-pk="{{ profile.pk }}"
        >
          <div class="vue-profile-edit"></div>
        </div>

        <div
          class="col"
          algolia-api-key="{{ settings.ALGOLIA.API_KEY_READ_ONLY }}"
          algolia-application-id="{{ settings.ALGOLIA.APPLICATION_ID }}"
          algolia-index="{{ settings.ALGOLIA.INDEX_NAME_TAGS }}"
          type="cause_area"
          type-field-name="cause_areas_new"
          type-name="Cause Area"
          profile-pk="{{ profile.pk }}"
        >
          <div class="vue-profile-edit"></div>
        </div>
      </div>

      {% if settings.DJANGO_ENV.value == "local" %}
        <script
          src="{{ settings.WEBPACK_DEV_URL }}/component_profile_edit.bundle.js"
        ></script>
      {% else %}
        <script defer src="{% static "dist/component_profile_edit.js" %}"
        ></script>
      {% endif %}

      {% crispy form %}

    </form>
  </div>
{% endblock %}

{% block footer %}
  {% include 'includes/footer.html' %}
{% endblock %}
