{% extends 'base_bs5.html' %}

{% load crispy_forms_field crispy_forms_tags static %}

{% block navbar %}
  {% include 'components/navbar.html' %}
{% endblock navbar %}

{% block title %}Edit Profile{% endblock %}

{% block content %}
  <div class="container profile-edit">
    <h1 class="mt-5">Edit your profile</h1>
    <form method="post" action="{% url 'profiles_app:edit_profile' %}">
      {% csrf_token %}
      
      <div class="row row-cols-1 row-cols-xl-2 pt-5"
        data-algolia-api-key="{{ settings.ALGOLIA.API_KEY_READ_ONLY }}"
        data-algolia-application-id="{{ settings.ALGOLIA.APPLICATION_ID }}"
        data-algolia-index="{{ settings.ALGOLIA.INDEX_NAME_TAGS }}"
        data-profile-pk="{{ profile.pk }}"
      >
        <div class="col mb-5"
          data-type-name="expertise_area"
          data-type-label="Expertise"
        >
          <div class="vue-profile-edit"></div>
        </div>

        <div class="col mb-5"
          data-type-name="cause_area"
          data-type-label="Cause Area"
        >
          <div class="vue-profile-edit"></div>
        </div>

        <div class="col mb-5"
          data-type-name="generic"
          data-type-label="Tags"
        >
          <div class="vue-profile-edit"></div>
        </div>

        <div class="col mb-5"
          data-type-name="organisational_affiliation"
          data-type-label="Organisational affiliations"
          data-search-results-cols="1"
        >
          <div class="vue-profile-edit"></div>
        </div>
      
        <div class="col mb-5"
          data-type-name="career_interest"
          data-type-label="Career interests"
        >
          <div class="vue-profile-edit"></div>
        </div>
      
        <div class="col mb-5"
          data-type-name="speech_topic"
          data-type-label="Speech topic"
        >
          <div class="vue-profile-edit"></div>
        </div>
      
        <div class="col mb-5"
          data-type-name="pledge"
          data-type-label="Pledges"
        >
          <div class="vue-profile-edit"></div>
        </div>
      
      </div>

      {% if settings.DJANGO_ENV.value == "local" %}
        <script
          src="{{ settings.WEBPACK_DEV_URL }}/component_profile_edit.bundle.js"
        ></script>
      {% else %}
        <script defer src="{% static "dist/component_profile_edit.js" %}"
        ></script>
      {% endif %}

      {{ form|crispy }}
      <button class="btn btn-primary btn-lg mb-5" type="submit">Save</button>

    </form>
  </div>
{% endblock %}

{% block footer %}
  {% include 'includes/footer.html' %}
{% endblock %}
